<!doctype html>
<html>
	<head>
		<title>Pie Chart</title>
		<script src="third-party/Chart.js"></script>
		<script src="third-party/jquery.js"></script>
		<script src="third-party/jquery-ui.js"></script>
		<script src="third-party/papaparse.js"></script>
		<link href="third-party/jquery-ui.css" rel="stylesheet">
	</head>
	<body>
		<input id="fileChooser" type="file" />
		<select id="selectmenu">
		</select>
	
		<div id="canvas-holder">
			<canvas id="chart-area" width="300" height="300"/>
		</div>


	<script>
	
	$( "#selectmenu" ).hide();
	
	$('#fileChooser').change(function() {
	Papa.parse(($('#fileChooser'))[0].files[0], {
		complete: function(results) {
			//console.log(results.data);
			$.each(results.data.slice(2), function(index, value){
				console.log(value[0]);
				$('#selectmenu').append("<option>"+value[0]+"</option>");
			});
			$( "#selectmenu" ).selectmenu();
		}
	});
	});
	

		var pieData = [
				{
					value: 300,
					color:"#F7464A",
					highlight: "#FF5A5E",
					label: "Red"
				},
				{
					value: 50,
					color: "#46BFBD",
					highlight: "#5AD3D1",
					label: "Green"
				},
				{
					value: 100,
					color: "#FDB45C",
					highlight: "#FFC870",
					label: "Yellow"
				},
				{
					value: 40,
					color: "#949FB1",
					highlight: "#A8B3C5",
					label: "Grey"
				},
				{
					value: 120,
					color: "#4D5360",
					highlight: "#616774",
					label: "Dark Grey"
				}

			];

			window.onload = function(){
				var ctx = document.getElementById("chart-area").getContext("2d");
				window.myPie = new Chart(ctx).Pie(pieData);
			};



	</script>
	</body>
</html>